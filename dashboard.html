<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlatePal</title>
    <link rel="stylesheet" href="Styles.css">
    <link rel="icon" type="image/x-icon" href="/pics/Plate.png">
</head>

<body> 
    
    <div id="loadingScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255,255,255,0.98); z-index: 100; display: flex; justify-content: center; align-items: center;">
        <img src="pics/cutlery.gif" alt="Loading..." style="width: 100px; height: auto;">
    </div>
    
    <header>
        <h1>PlatePal</h1>
        <nav>
            <a href="dashboard.html">Home</a>
            <a href="recipeslist.html">Recipe Library</a>
            <a href="publicrecipes.html">Public Recipes</a>
            <a href="listdash.html">Smart List</a>
            <a href="account.html">Account</a>
        </nav>
    </header>



    <h1 id="welcomeMessage" style="display: none;">Welcome <span id="Forename"></span>, to PlatePal</h1>

    <U><H2>What Is It?</H2></U>
    <p>PlatePal is a health and fitness platform that allows users to keep track of what they are eating and monitor their fitness activities. PlatePal uses a secure SQL server to store all of its users' data and monitor their analytics.</p>
    
    <U><H2>What Can It Do?</H2></U>
    <p>Platepal can be used to log recipes/diet plans, fitness activities, and record progress analytics. Smart shopping lists are one of its most valued features where users can take recipes they have previously saved and put them into a shopping list so they are able to plan out the meals they will consume each week.</p>
    
    <U><H2>How Do I Use It?</H2></U>
    
    <button id="CreateRecipeButton">Create A Recipe</button>
    <button id="CreateListButton">Create A List</button>
    <button id="ViewActivityButton">Log Fitness Activity</button>

    <script>
        
        function hideLoadingScreen() {
            document.getElementById("loadingScreen").style.display = "none";
        }        
        
        document.addEventListener('DOMContentLoaded', function () {
            fetchAccount();
        });

        function fetchAccount() {
            fetch('DatabaseGetAccount.php')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    displayAccount(data);
                    document.body.style.display = '';
                    hideLoadingScreen();
                })
                .catch(error => {
                    console.error('Error fetching data:', error.message);
                    
                });
        }
        
        function displayAccount(account) {
            const Forename = document.getElementById('Forename');
            const welcomeMessage = document.getElementById('welcomeMessage');

            Forename.textContent = account.User_Name;
            welcomeMessage.style.display = 'block'; 
        }
    </script>
</body>

</html>

